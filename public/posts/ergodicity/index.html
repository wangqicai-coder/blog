<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>遍历性：为什么你的投资直觉是错的 | Wang Qicai</title>
<meta name="keywords" content="">
<meta name="description" content="一个改变一切的问题
假设有一个游戏：
掷硬币。正面，你的财富增加50%。反面，你的财富减少40%。
你会玩吗？
大多数人会计算&quot;期望值&quot;：
期望值 = 0.5 × (&#43;50%) &#43; 0.5 × (-40%) = &#43;5%
期望值是正的！每次游戏平均赚5%。应该玩，而且应该一直玩。
这是错的。
如果你反复玩这个游戏，你几乎必然破产。
这不是悖论，这是数学。理解这一点，可能会彻底改变你对投资的认知。

两种平均：集合平均 vs 时间平均
&ldquo;期望值&quot;计算的是集合平均：如果有100万人同时玩这个游戏一次，平均结果是什么？
答案是：平均赚5%。
但你不是100万人。你是一个人，要反复玩这个游戏。
对你来说，重要的是时间平均：一个人反复玩这个游戏，长期结果是什么？
让我们算：
假设你有100元，玩两次。
一次正面一次反面（顺序无关）：
100 × 1.5 × 0.6 = 90元
你亏了10%。
再玩两次：
90 × 1.5 × 0.6 = 81元
又亏了10%。
每两次游戏，你的财富乘以 1.5 × 0.6 = 0.9。
长期来看，你必然归零。
但等等，期望值明明是正的？
问题在于：期望值假设你能无限次重复，并且每次独立。但财富是乘性的，不是加性的。
上一把的结果会影响下一把的本金。这改变了一切。

遍历性：一个被忽视的关键概念
当&quot;集合平均&quot;等于&quot;时间平均&quot;时，系统是遍历的（ergodic）。
当两者不相等时，系统是非遍历的（non-ergodic）。
投资是非遍历的。
这意味着：

别人的平均结果，对你没有意义
&ldquo;市场长期年化10%&quot;，不代表你会获得10%
任何可能让你归零的策略，长期期望值都是负无穷

你只有一条财富路径。这条路径上的任何一点归零，游戏就结束了。

为什么这解释了一切
1. 为什么&quot;永远不要亏光&quot;是第一原则
不是因为&quot;活着才有机会&quot;这种鸡汤。
而是因为数学：在非遍历系统中，任何有破产概率的策略，长期期望值都是负无穷。
不管你的&quot;期望收益&quot;有多高，只要存在归零可能，长期必败。
2. 为什么凯利公式有效
凯利公式不是最大化期望收益，而是最大化几何平均收益——也就是时间平均。">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/posts/ergodicity/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.3186279669d450af77810193be820f29f69d3d053f1dcb4188d4cf5196dacf93.css" integrity="sha256-MYYnlmnUUK93gQGTvoIPKfadPQU/HctBiNTPUZbaz5M=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/ergodicity/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>
</head>

<body class="" id="top">

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Wang Qicai (Alt + H)">Wang Qicai</a>
            <div class="logo-switches">
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://x.com/realWangQicai" title="X">
                    <span>X</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <a href="/" class="back-to-home">&larr; 返回目录</a>
    <h1 class="post-title entry-hint-parent">
      遍历性：为什么你的投资直觉是错的
    </h1>
  </header>
  <div class="post-content"><h2 id="一个改变一切的问题">一个改变一切的问题<a hidden class="anchor" aria-hidden="true" href="#一个改变一切的问题">#</a></h2>
<p>假设有一个游戏：</p>
<p>掷硬币。正面，你的财富增加50%。反面，你的财富减少40%。</p>
<p>你会玩吗？</p>
<p>大多数人会计算&quot;期望值&quot;：</p>
<pre tabindex="0"><code>期望值 = 0.5 × (+50%) + 0.5 × (-40%) = +5%
</code></pre><p>期望值是正的！每次游戏平均赚5%。应该玩，而且应该一直玩。</p>
<p>这是错的。</p>
<p>如果你反复玩这个游戏，你几乎必然破产。</p>
<p>这不是悖论，这是数学。理解这一点，可能会彻底改变你对投资的认知。</p>
<hr>
<h2 id="两种平均集合平均-vs-时间平均">两种平均：集合平均 vs 时间平均<a hidden class="anchor" aria-hidden="true" href="#两种平均集合平均-vs-时间平均">#</a></h2>
<p>&ldquo;期望值&quot;计算的是<strong>集合平均</strong>：如果有100万人同时玩这个游戏一次，平均结果是什么？</p>
<p>答案是：平均赚5%。</p>
<p>但你不是100万人。你是一个人，要反复玩这个游戏。</p>
<p>对你来说，重要的是<strong>时间平均</strong>：一个人反复玩这个游戏，长期结果是什么？</p>
<p>让我们算：</p>
<p>假设你有100元，玩两次。</p>
<p>一次正面一次反面（顺序无关）：</p>
<pre tabindex="0"><code>100 × 1.5 × 0.6 = 90元
</code></pre><p>你亏了10%。</p>
<p>再玩两次：</p>
<pre tabindex="0"><code>90 × 1.5 × 0.6 = 81元
</code></pre><p>又亏了10%。</p>
<p>每两次游戏，你的财富乘以 1.5 × 0.6 = 0.9。</p>
<p><strong>长期来看，你必然归零。</strong></p>
<p>但等等，期望值明明是正的？</p>
<p>问题在于：<strong>期望值假设你能无限次重复，并且每次独立。但财富是乘性的，不是加性的。</strong></p>
<p>上一把的结果会影响下一把的本金。这改变了一切。</p>
<hr>
<h2 id="遍历性一个被忽视的关键概念">遍历性：一个被忽视的关键概念<a hidden class="anchor" aria-hidden="true" href="#遍历性一个被忽视的关键概念">#</a></h2>
<p>当&quot;集合平均&quot;等于&quot;时间平均&quot;时，系统是<strong>遍历的（ergodic）</strong>。</p>
<p>当两者不相等时，系统是<strong>非遍历的（non-ergodic）</strong>。</p>
<p>投资是非遍历的。</p>
<p>这意味着：</p>
<ul>
<li>别人的平均结果，对你没有意义</li>
<li>&ldquo;市场长期年化10%&quot;，不代表你会获得10%</li>
<li>任何可能让你归零的策略，长期期望值都是负无穷</li>
</ul>
<p><strong>你只有一条财富路径。这条路径上的任何一点归零，游戏就结束了。</strong></p>
<hr>
<h2 id="为什么这解释了一切">为什么这解释了一切<a hidden class="anchor" aria-hidden="true" href="#为什么这解释了一切">#</a></h2>
<h3 id="1-为什么永远不要亏光是第一原则">1. 为什么&quot;永远不要亏光&quot;是第一原则<a hidden class="anchor" aria-hidden="true" href="#1-为什么永远不要亏光是第一原则">#</a></h3>
<p>不是因为&quot;活着才有机会&quot;这种鸡汤。</p>
<p>而是因为数学：在非遍历系统中，任何有破产概率的策略，长期期望值都是负无穷。</p>
<p>不管你的&quot;期望收益&quot;有多高，只要存在归零可能，长期必败。</p>
<h3 id="2-为什么凯利公式有效">2. 为什么凯利公式有效<a hidden class="anchor" aria-hidden="true" href="#2-为什么凯利公式有效">#</a></h3>
<p>凯利公式不是最大化期望收益，而是最大化<strong>几何平均收益</strong>——也就是时间平均。</p>
<p>凯利公式自动考虑了遍历性问题，所以它永远不会让你全押。</p>
<h3 id="3-为什么分散投资有效">3. 为什么分散投资有效<a hidden class="anchor" aria-hidden="true" href="#3-为什么分散投资有效">#</a></h3>
<p>不是因为&quot;不把鸡蛋放在一个篮子里&quot;这种道理。</p>
<p>而是因为：分散投资把乘性风险转化为加性风险，让系统更接近遍历。</p>
<h3 id="4-为什么杠杆如此危险">4. 为什么杠杆如此危险<a hidden class="anchor" aria-hidden="true" href="#4-为什么杠杆如此危险">#</a></h3>
<p>杠杆放大了乘性效应。在非遍历系统中使用杠杆，是在加速归零。</p>
<h3 id="5-为什么长期持有有前提">5. 为什么&quot;长期持有&quot;有前提<a hidden class="anchor" aria-hidden="true" href="#5-为什么长期持有有前提">#</a></h3>
<p>&ldquo;长期持有&quot;只对那些不会归零的资产有效。</p>
<p>持有一个可能归零的股票，时间越长，归零概率越高。</p>
<hr>
<h2 id="重新理解风险">重新理解&quot;风险&rdquo;<a hidden class="anchor" aria-hidden="true" href="#重新理解风险">#</a></h2>
<p>传统金融学用&quot;波动率&quot;定义风险。</p>
<p>但波动率是集合概念。它衡量的是：如果有很多个平行宇宙，你的财富的分布有多宽。</p>
<p>你不在乎平行宇宙。你只在乎你这一条路径。</p>
<p>真正的风险是：<strong>这条路径上，我有多大概率在某个点归零？</strong></p>
<p>这就是为什么塔勒布说&quot;波动率不是风险，破产才是风险&rdquo;。</p>
<hr>
<h2 id="实践含义">实践含义<a hidden class="anchor" aria-hidden="true" href="#实践含义">#</a></h2>
<h3 id="1-任何决策先问最坏情况会不会让我出局">1. 任何决策，先问&quot;最坏情况会不会让我出局&rdquo;<a hidden class="anchor" aria-hidden="true" href="#1-任何决策先问最坏情况会不会让我出局">#</a></h3>
<p>如果会，不管期望值多高，都不做。</p>
<h3 id="2-理解长期的真正含义">2. 理解&quot;长期&quot;的真正含义<a hidden class="anchor" aria-hidden="true" href="#2-理解长期的真正含义">#</a></h3>
<p>长期不是&quot;只要持有足够久就会赚钱&quot;。</p>
<p>长期是&quot;在这条时间路径上，我需要在每一个点都存活&quot;。</p>
<h3 id="3-警惕平均收益的陷阱">3. 警惕&quot;平均收益&quot;的陷阱<a hidden class="anchor" aria-hidden="true" href="#3-警惕平均收益的陷阱">#</a></h3>
<p>当有人告诉你&quot;这个策略平均年化20%&quot;，问他：</p>
<ul>
<li>这是什么平均？时间平均还是集合平均？</li>
<li>最大回撤是多少？有没有归零风险？</li>
<li>如果一个人从头到尾执行这个策略，结果是什么？</li>
</ul>
<h3 id="4-构建抗脆弱的系统">4. 构建抗脆弱的系统<a hidden class="anchor" aria-hidden="true" href="#4-构建抗脆弱的系统">#</a></h3>
<p>不是追求最高期望值，而是追求在所有路径上都不归零，同时捕捉正面的不确定性。</p>
<hr>
<h2 id="这个概念为什么重要">这个概念为什么重要<a hidden class="anchor" aria-hidden="true" href="#这个概念为什么重要">#</a></h2>
<p>遍历性问题解释了一个悖论：</p>
<p>为什么很多&quot;聪明人&quot;在投资上失败？</p>
<p>因为他们用的是集合思维——计算期望值、优化夏普比率、追求最优解。</p>
<p>但投资是非遍历的。这些工具在根本上就是错的。</p>
<p><strong>你不是在和市场博弈，你是在和时间博弈。你只有一条路径，任何一点断裂，就没有然后了。</strong></p>
<p>理解这一点，很多&quot;反直觉&quot;的投资智慧突然变得显然：</p>
<ul>
<li>巴菲特的第一规则&quot;永远不要亏钱&quot;——不是废话，是数学</li>
<li>索罗斯的&quot;先生存，再赚钱&quot;——不是保守，是理性</li>
<li>塔勒布的&quot;杠铃策略&quot;——不是奇技淫巧，是对非遍历性的正确应对</li>
</ul>
<hr>
<h2 id="一个思想实验">一个思想实验<a hidden class="anchor" aria-hidden="true" href="#一个思想实验">#</a></h2>
<p>回到开头的游戏。</p>
<p>如果你是上帝，同时观察100万人玩这个游戏，你会看到平均结果是正的。</p>
<p>但如果你是一个人，活在时间里，玩1000次这个游戏，你会看到自己的财富不断缩水，直到归零。</p>
<p>你不是上帝。你是活在时间里的个体。</p>
<p><strong>你的决策框架，必须基于你的存在方式。</strong></p>
<p>这就是遍历性问题的核心。</p>
<hr>
<h2 id="最后">最后<a hidden class="anchor" aria-hidden="true" href="#最后">#</a></h2>
<p>这篇文章只讨论了一个概念。</p>
<p>但如果你真正理解了它，你对投资的很多认知会被重构。</p>
<p>真正的深度不是知道100个原则，而是理解一个原则背后的原理。</p>
<p>遍历性不是我发明的。Ole Peters、Nassim Taleb 等人在这方面有深入研究。我只是试图用最清晰的方式呈现它。</p>
<p>如果这篇文章让你开始用不同的方式思考风险和时间的关系，它就达到了目的。</p>
<hr>
<p><em>参考阅读：</em></p>
<ul>
<li>Ole Peters: &ldquo;The ergodicity problem in economics&rdquo;</li>
<li>Nassim Taleb: &ldquo;Skin in the Game&rdquo; 中关于遍历性的章节</li>
<li>凯利公式的数学推导</li>
</ul>


  </div>

  <footer class="post-footer">
  </footer>
</article>
    </main>
    
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
</body>

</html>
